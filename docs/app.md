# 🔄 MCP Kali Forensics - Diagrama de Flujo Completo v4.5

> **Última Actualización:** December 18, 2025  
> **Estado:** 🟢 Production Ready

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                        MCP KALI FORENSICS v4.5                                                  │
│                               Forensic Analysis & Incident Response Platform                                     │
│                                    BRAC Authentication + Multi-Tenant                                           │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              🌐 CAPA DE PRESENTACIÓN                                              ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  ║
║  │                                    FRONTEND REACT (Puerto 3000)                                            │  ║
║  │                                                                                                            │  ║
║  │  ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐  │  ║
║  │  │   🔐 Login       │ │   📊 Dashboard   │ │ 🔍 Investigations│ │  🤖 Agents       │ │  👤 Profile      │  │  ║
║  │  │   - BRAC Auth    │ │   - Stats        │ │ - Case List      │ │ - Mobile Agents  │ │  - User Info     │  │  ║
║  │  │   - JWT Tokens   │ │   - Activity     │ │ - Timeline       │ │ - Remote Exec    │ │  - Password      │  │  ║
║  │  │   - Multi-Tenant │ │   - Alerts       │ │ - Evidence Tree  │ │ - Deployment     │ │  - Sessions      │  │  ║
║  │  └──────────────────┘ └──────────────────┘ └──────────────────┘ └──────────────────┘ └──────────────────┘  │  ║
║  │                                                                                                            │  ║
║  │  ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐ ┌──────────────────┐  │  ║
║  │  │  ☁️ M365         │ │  🔐 Credentials  │ │  📡 Kali Tools   │ │  📋 Reports      │ │  🛡️ SOAR        │  │  ║
║  │  │  - Sparrow       │ │ - HIBP Check     │ │ - Nmap/Masscan   │ │ - PDF Export     │ │ - Playbooks      │  │  ║
║  │  │  - Hawk          │ │ - Stealer Logs   │ │ - Sherlock       │ │ - Evidence Chain │ │ - Auto Response  │  │  ║
║  │  │  - Monkey365     │ │ - Dehashed       │ │ - Loki/YARA      │ │ - Timeline View  │ │ - Workflows      │  │  ║
║  │  └──────────────────┘ └──────────────────┘ └──────────────────┘ └──────────────────┘ └──────────────────┘  │  ║
║  └────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                       │                                                           ║
║                            ┌──────────────────────────┼──────────────────────────┐                               ║
║                            │     HTTP/REST (Axios)    │    WebSocket (Socket.io) │                               ║
║                            ▼                          ▼                          ▼                               ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
                                                        │
                                                        │
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              🔒 CAPA DE SEGURIDAD (BRAC)                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║  ┌─────────────────────────┐    ┌─────────────────────────┐    ┌─────────────────────────┐                        ║
║  │    🔑 JWT Auth          │    │    👤 RBAC Middleware   │    │  📁 Case Context MW     │                        ║
║  │  - Bearer Token         │───▶│  - Role-based access    │───▶│  - case_id validation   │                        ║
║  │  - /api/auth/login      │    │  - Permission checks    │    │  - Context injection    │                        ║
║  │  - Refresh tokens       │    │  - PUBLIC_ROUTES list   │    │  - Tenant isolation     │                        ║
║  └─────────────────────────┘    └─────────────────────────┘    └─────────────────────────┘                        ║
║                                                                                                                   ║
║  ┌─────────────────────────┐    ┌─────────────────────────┐                                                       ║
║  │    🔐 API Key Auth      │    │    🏢 Multi-Tenant      │                                                       ║
║  │  - Header: X-API-Key    │    │  - Tenant isolation     │                                                       ║
║  │  - Legacy compatibility │    │  - GUID-based IDs       │                                                       ║
║  └─────────────────────────┘    └─────────────────────────┘                                                       ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
                                                        │
                                                        ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                        🚀 CAPA API - FastAPI (Puerto 9000)                                       ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  ║
║  │                                           API ROUTES (43 routers)                                           │  ║
║  │                                                                                                             │  ║
║  │  ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐                │  ║
║  │  │ 📂 /api/v1/cases   │ │ ☁️ /api/v1/m365    │ │ 🔐 /api/v1/creds   │ │ 💻 /api/v1/endpoint│                │  ║
║  │  │ - CRUD operations  │ │ - Sparrow/Hawk     │ │ - HIBP/Dehashed    │ │ - Loki/YARA/OSQ    │                │  ║
║  │  └────────────────────┘ └────────────────────┘ └────────────────────┘ └────────────────────┘                │  ║
║  │                                                                                                             │  ║
║  │  ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐                │  ║
║  │  │ 🤖 /api/agents     │ │ 🔍 /investigations │ │ 🎯 /hunting        │ │ 📊 /timeline       │                │  ║
║  │  │ - Deploy/Execute   │ │ - Active cases     │ │ - Query execution  │ │ - Event timeline   │                │  ║
║  │  └────────────────────┘ └────────────────────┘ └────────────────────┘ └────────────────────┘                │  ║
║  │                                                                                                             │  ║
║  │  ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐                │  ║
║  │  │ 🧠 /api/v41/llm    │ │ 🐋 /api/v41/docker │ │ 🛡️ /api/pentest   │ │ 📡 /ws/streaming   │                │  ║
║  │  │ - Model management │ │ - Container mgmt   │ │ - Auto pentesting  │ │ - Real-time logs   │                │  ║
║  │  └────────────────────┘ └────────────────────┘ └────────────────────┘ └────────────────────┘                │  ║
║  │                                                                                                             │  ║
║  │  ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐ ┌────────────────────┐                │  ║
║  │  │ 📋 /reports        │ │ 🔄 /playbooks      │ │ 🌐 /threat-intel   │ │ ⚙️ /system/*       │                │  ║
║  │  │ - PDF generation   │ │ - SOAR automation  │ │ - MISP/Shodan/VT   │ │ - Health/Maint     │                │  ║
║  │  └────────────────────┘ └────────────────────┘ └────────────────────┘ └────────────────────┘                │  ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                        │                                                          ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
                                                        │
                                                        ▼
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                          ⚡ CAPA DE SERVICIOS (Business Logic)                                    ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  ║
║  │                                         SERVICES (58 servicios)                                              │  ║
║  │                                                                                                             │  ║
║  │  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐         │  ║
║  │  │ 📁 cases.py         │  │ ☁️ m365.py          │  │ 🔐 credentials.py   │  │ 💻 endpoint.py       │         │  ║
║  │  │ Case management     │  │ M365 PowerShell     │  │ HIBP/Dehashed API   │  │ Loki/YARA/OSQuery   │         │  ║
║  │  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘         │  ║
║  │                                                                                                             │  ║
║  │  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐         │  ║
║  │  │ 🧠 llm_provider.py  │  │ 🐋 docker_service   │  │ 🛡️ pentest_*.py    │  │ 📊 graph_builder.py │         │  ║
║  │  │ LLM Studio/Ollama   │  │ Container discovery │  │ Autonomous pentest  │  │ Attack graph gen    │         │  ║
║  │  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘         │  ║
║  │                                                                                                             │  ║
║  │  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐         │  ║
║  │  │ 📋 report_*.py      │  │ 🔄 soar_engine.py   │  │ 🌐 threat_intel.py  │  │ 🔍 correlation.py   │         │  ║
║  │  │ PDF/Evidence export │  │ Playbook execution  │  │ External APIs       │  │ Event correlation   │         │  ║
║  │  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘         │  ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  ║
║                                                        │                                                          ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
                                                        │
                        ┌───────────────────────────────┼───────────────────────────────┐
                        │                               │                               │
                        ▼                               ▼                               ▼
╔═══════════════════════════════╗   ╔═══════════════════════════════╗   ╔═══════════════════════════════╗
║     💾 PERSISTENCIA           ║   ║     🔧 HERRAMIENTAS FORENSES  ║   ║     🌐 APIS EXTERNAS          ║
╠═══════════════════════════════╣   ╠═══════════════════════════════╣   ╠═══════════════════════════════╣
║                               ║   ║                               ║   ║                               ║
║  ┌─────────────────────────┐  ║   ║  ┌─────────────────────────┐  ║   ║  ┌─────────────────────────┐  ║
║  │   📦 SQLite Database    │  ║   ║  │   ☁️ M365 TOOLS         │  ║   ║  │   🔐 HIBP API           │  ║
║  │   - Cases               │  ║   ║  │   - Sparrow 365         │  ║   ║  │   - Breach check        │  ║
║  │   - Investigations      │  ║   ║  │   - Hawk                │  ║   ║  └─────────────────────────┘  ║
║  │   - Evidence            │  ║   ║  │   - Monkey365           │  ║   ║                               ║
║  │   - Agents              │  ║   ║  │   - O365 Extractor      │  ║   ║  ┌─────────────────────────┐  ║
║  │   - IOCs                │  ║   ║  └─────────────────────────┘  ║   ║  │   🦠 VirusTotal API     │  ║
║  │   - Users               │  ║   ║                               ║   ║  │   - Hash/URL analysis   │  ║
║  │   - Sessions            │  ║   ║  ┌─────────────────────────┐  ║   ║  └─────────────────────────┘  ║
║  └─────────────────────────┘  ║   ║  │   🔍 ENDPOINT TOOLS     │  ║   ║                               ║
║                               ║   ║  │   - Loki Scanner        │  ║   ║  ┌─────────────────────────┐  ║
║  ┌─────────────────────────┐  ║   ║  │   - YARA Rules          │  ║   ║  │   🔍 Shodan API         │  ║
║  │   📂 Evidence Storage   │  ║   ║  │   - OSQuery             │  ║   ║  │   - Infrastructure scan │  ║
║  │   ~/forensics-evidence/ │  ║   ║  │   - Volatility 3        │  ║   ║  └─────────────────────────┘  ║
║  │   - {case_id}/          │  ║   ║  └─────────────────────────┘  ║   ║                               ║
║  │     - sparrow/          │  ║   ║                               ║   ║  ┌─────────────────────────┐  ║
║  │     - hawk/             │  ║   ║  ┌─────────────────────────┐  ║   ║  │   🛡️ MISP Platform     │  ║
║  │     - loki/             │  ║   ║  │   🐧 KALI TOOLS         │  ║   ║  │   - Threat sharing      │  ║
║  │     - yara/             │  ║   ║  │   - Nmap / Masscan      │  ║   ║  └─────────────────────────┘  ║
║  │     - reports/          │  ║   ║  │   - Sherlock            │  ║   ║                               ║
║  └─────────────────────────┘  ║   ║  │   - theHarvester        │  ║   ║  ┌─────────────────────────┐  ║
║                               ║   ║  │   - Amass               │  ║   ║  │   🧠 LLM PROVIDERS      │  ║
╚═══════════════════════════════╝   ║  │   - Nuclei              │  ║   ║  │   - LM Studio           │  ║
                                    ║  └─────────────────────────┘  ║   ║  │   - Ollama (Docker)     │  ║
                                    ║                               ║   ║  │   - OpenAI Compatible   │  ║
                                    ╚═══════════════════════════════╝   ║  └─────────────────────────┘  ║
                                                                        ║                               ║
                                                                        ╚═══════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                        📊 FLUJO DE INVESTIGACIÓN FORENSE                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐   ║
║   │ 1. CASE  │───▶│ 2. SCOPE │───▶│ 3. TOOLS │───▶│4.COLLECT │───▶│5.ANALYZE │───▶│6.CORRELATE───▶│ 7. REPORT│   ║
║   │  CREATE  │    │  DEFINE  │    │  SELECT  │    │ EVIDENCE │    │   DATA   │    │  EVENTS  │    │ GENERATE │   ║
║   └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘   ║
║        │               │               │               │               │               │               │         ║
║        ▼               ▼               ▼               ▼               ▼               ▼               ▼         ║
║   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐   ║
║   │ POST     │    │ M365     │    │ Sparrow  │    │Background│    │ LLM      │    │ Graph    │    │ PDF/JSON │   ║
║   │ /cases   │    │ Endpoint │    │ Hawk     │    │ Tasks    │    │ Analysis │    │ Builder  │    │ Export   │   ║
║   │          │    │ Creds    │    │ Loki     │    │ Queue    │    │ IOC Det  │    │ Timeline │    │ Evidence │   ║
║   └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘   ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                         🔄 FLUJO DE DATOS EN TIEMPO REAL                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────┐   ║
║   │                                     WebSocket Streaming Architecture                                       │   ║
║   │                                                                                                           │   ║
║   │    ┌──────────────┐         ┌──────────────┐         ┌──────────────┐         ┌──────────────┐           │   ║
║   │    │    Tool      │────────▶│  ws_streaming│────────▶│   Frontend   │────────▶│   User       │           │   ║
║   │    │  Execution   │  logs   │    router    │  push   │  LiveLogs    │ display │  Interface   │           │   ║
║   │    │              │         │              │         │  Panel       │         │              │           │   ║
║   │    └──────────────┘         └──────────────┘         └──────────────┘         └──────────────┘           │   ║
║   │           │                        │                        │                                             │   ║
║   │           │                        │                        │                                             │   ║
║   │    ┌──────▼──────┐         ┌───────▼──────┐         ┌───────▼──────┐                                      │   ║
║   │    │ /ws/analysis│         │ /ws/case     │         │ /ws/global   │                                      │   ║
║   │    │ {case_id}   │         │ {case_id}    │         │ /logs        │                                      │   ║
║   │    │ logs stream │         │ live updates │         │ all events   │                                      │   ║
║   │    └─────────────┘         └──────────────┘         └──────────────┘                                      │   ║
║   └───────────────────────────────────────────────────────────────────────────────────────────────────────────┘   ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                           🏗️ ARQUITECTURA DE COMPONENTES                                         ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║                                    ┌────────────────────────────────────┐                                         ║
║                                    │         FRONTEND REACT             │                                         ║
║                                    │       (Vite + Tailwind)            │                                         ║
║                                    └────────────────┬───────────────────┘                                         ║
║                                                     │                                                             ║
║           ┌─────────────────────────────────────────┼─────────────────────────────────────────┐                   ║
║           │                                         │                                         │                   ║
║           ▼                                         ▼                                         ▼                   ║
║   ┌───────────────────┐                 ┌───────────────────┐                 ┌───────────────────┐               ║
║   │     SERVICES      │                 │      STORE        │                 │    COMPONENTS     │               ║
║   │  (API Clients)    │                 │  (Redux Toolkit)  │                 │    (26 modules)   │               ║
║   │                   │                 │                   │                 │                   │               ║
║   │ - api.js          │                 │ - caseSlice       │                 │ - Dashboard/      │               ║
║   │ - cases.js        │                 │ - uiSlice         │                 │ - Investigations/ │               ║
║   │ - agents.js       │◀───────────────▶│ - authSlice       │◀───────────────▶│ - Agents/         │               ║
║   │ - investigations  │                 │                   │                 │ - M365/           │               ║
║   │ - m365.js         │                 │                   │                 │ - Settings/       │               ║
║   │ - kaliTools.js    │                 │                   │                 │ - Reports/        │               ║
║   │ - llm.js          │                 │                   │                 │ - SOAR/           │               ║
║   └───────────────────┘                 └───────────────────┘                 └───────────────────┘               ║
║                                                                                                                   ║
║                                                     │                                                             ║
║                                                     │ Axios HTTP                                                  ║
║                                                     ▼                                                             ║
║                                    ┌────────────────────────────────────┐                                         ║
║                                    │         BACKEND FastAPI            │                                         ║
║                                    │           (Port 9000)              │                                         ║
║                                    └────────────────┬───────────────────┘                                         ║
║                                                     │                                                             ║
║           ┌─────────────────────────────────────────┼─────────────────────────────────────────┐                   ║
║           │                                         │                                         │                   ║
║           ▼                                         ▼                                         ▼                   ║
║   ┌───────────────────┐                 ┌───────────────────┐                 ┌───────────────────┐               ║
║   │      ROUTES       │                 │     SERVICES      │                 │    MIDDLEWARE     │               ║
║   │   (43 routers)    │                 │  (58 services)    │                 │                   │               ║
║   │                   │                 │                   │                 │                   │               ║
║   │ - m365.py         │                 │ - m365.py         │                 │ - auth.py         │               ║
║   │ - credentials.py  │────────────────▶│ - credentials.py  │◀────────────────│ - rbac.py         │               ║
║   │ - endpoint.py     │                 │ - endpoint.py     │                 │ - case_context.py │               ║
║   │ - agents.py       │                 │ - llm_provider.py │                 │ - usage_tracking  │               ║
║   │ - llm_settings.py │                 │ - docker_service  │                 │                   │               ║
║   │ - docker_llm.py   │                 │ - pentest_*.py    │                 │                   │               ║
║   └───────────────────┘                 └───────────────────┘                 └───────────────────┘               ║
║                                                     │                                                             ║
║           ┌─────────────────────────────────────────┼─────────────────────────────────────────┐                   ║
║           │                                         │                                         │                   ║
║           ▼                                         ▼                                         ▼                   ║
║   ┌───────────────────┐                 ┌───────────────────┐                 ┌───────────────────┐               ║
║   │    DATABASE       │                 │   EXTERNAL TOOLS  │                 │   LLM PROVIDERS   │               ║
║   │    (SQLite)       │                 │  (/opt/forensics) │                 │                   │               ║
║   │                   │                 │                   │                 │                   │               ║
║   │ - forensics.db    │                 │ - Sparrow/Hawk    │                 │ - LM Studio       │               ║
║   │ - Cases table     │                 │ - Loki/YARA       │                 │ - Ollama          │               ║
║   │ - Evidence table  │                 │ - Nmap/Masscan    │                 │ - OpenAI API      │               ║
║   │ - Users table     │                 │ - Volatility      │                 │ - Local Models    │               ║
║   └───────────────────┘                 └───────────────────┘                 └───────────────────┘               ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                              📁 ESTRUCTURA DE DIRECTORIOS                                         ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║   mcp-kali-forensics/                                                                                             ║
║   │                                                                                                               ║
║   ├── api/                           # Backend FastAPI                                                            ║
║   │   ├── main.py                    # Entry point, lifespan, CORS                                               ║
║   │   ├── config.py                  # Pydantic Settings                                                         ║
║   │   ├── database.py                # SQLAlchemy setup                                                          ║
║   │   ├── routes/                    # 43 API routers                                                            ║
║   │   │   ├── m365.py               # M365 forensics                                                             ║
║   │   │   ├── credentials.py        # HIBP, Dehashed                                                             ║
║   │   │   ├── endpoint.py           # Loki, YARA, OSQuery                                                        ║
║   │   │   ├── llm_settings.py       # LLM management                                                             ║
║   │   │   ├── docker_llm.py         # Docker container mgmt                                                      ║
║   │   │   ├── pentest.py            # Autonomous pentesting                                                      ║
║   │   │   └── ...                   # +37 more routers                                                           ║
║   │   ├── services/                  # 58 business logic services                                                ║
║   │   │   ├── m365.py               # PowerShell wrappers                                                        ║
║   │   │   ├── llm_provider.py       # LLM Studio/Ollama                                                          ║
║   │   │   ├── docker_service.py     # Container discovery                                                        ║
║   │   │   └── ...                   # +55 more services                                                          ║
║   │   ├── middleware/                # Security middleware                                                       ║
║   │   │   ├── auth.py               # API Key validation                                                         ║
║   │   │   ├── rbac.py               # Role-based access                                                          ║
║   │   │   └── case_context.py       # Case ID injection                                                          ║
║   │   └── models/                    # SQLAlchemy models                                                         ║
║   │                                                                                                               ║
║   ├── frontend-react/                # Frontend React                                                            ║
║   │   ├── src/                                                                                                    ║
║   │   │   ├── components/            # 26 component modules                                                      ║
║   │   │   │   ├── Dashboard/        # Main dashboard                                                             ║
║   │   │   │   ├── Investigations/   # Case management                                                            ║
║   │   │   │   ├── Agents/           # Mobile agents                                                              ║
║   │   │   │   ├── M365/             # Microsoft 365                                                              ║
║   │   │   │   ├── Settings/         # System config                                                              ║
║   │   │   │   └── ...               # +21 more                                                                   ║
║   │   │   ├── services/              # API clients                                                               ║
║   │   │   ├── store/                 # Redux Toolkit                                                             ║
║   │   │   └── hooks/                 # Custom hooks                                                              ║
║   │   └── vite.config.js                                                                                          ║
║   │                                                                                                               ║
║   ├── core/                          # v4.4 core components                                                      ║
║   │   ├── context_manager.py         # Case context manager                                                      ║
║   │   ├── process_manager.py         # Background processes                                                      ║
║   │   └── rbac_config.py             # RBAC configuration                                                        ║
║   │                                                                                                               ║
║   ├── scripts/                       # Installation & setup                                                      ║
║   ├── docs/                          # Documentation                                                             ║
║   ├── evidence/                      # Evidence storage                                                          ║
║   ├── logs/                          # Application logs                                                          ║
║   └── tools/                         # Tool configurations                                                       ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝


╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                  🚀 INICIO RÁPIDO                                                 ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                                   ║
║   1. INSTALACIÓN                        2. CONFIGURACIÓN                    3. EJECUCIÓN                         ║
║   ─────────────────                     ──────────────────                  ────────────                          ║
║                                                                                                                   ║
║   $ git clone <repo>                    $ cp .env.example .env              $ ./start.sh                          ║
║   $ cd mcp-kali-forensics               $ vim .env                                                                ║
║   $ ./scripts/setup_native.sh           # Configurar:                       # Servicios:                          ║
║                                         # - API_KEY                         # - API: localhost:9000               ║
║                                         # - LM_STUDIO_URL                   # - UI:  localhost:3000               ║
║                                         # - M365 credentials                # - Docs: localhost:9000/docs         ║
║                                                                                                                   ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

---

**Generado automáticamente** - MCP Kali Forensics v4.5  
**Fecha**: Diciembre 2025
