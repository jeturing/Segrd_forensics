â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MCP KALI FORENSICS - REPORTE DE INSTALACIÃ“N COMPLETADA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fecha: $(date '+%Y-%m-%d %H:%M:%S %Z')
Usuario: $USER
Sistema: Kali GNU/Linux Rolling
Kernel: $(uname -r)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ACTUALIZACIONES DEL SISTEMA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Repositorios de Kali actualizados
âœ“ 110 paquetes actualizados a las Ãºltimas versiones
âœ“ Sistema operativo actualizado a la Ãºltima versiÃ³n

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… HERRAMIENTAS FORENSES INSTALADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

UbicaciÃ³n: /opt/forensics-tools/

1. âœ“ Sparrow 365
   Ruta: /opt/forensics-tools/Sparrow/
   DescripciÃ³n: DetecciÃ³n de compromiso en Azure/M365
   Uso: AnÃ¡lisis de sign-ins sospechosos, OAuth apps maliciosas

2. âœ“ Hawk
   Ruta: /opt/forensics-tools/hawk/
   DescripciÃ³n: InvestigaciÃ³n de compromisos en Exchange Online
   Uso: AnÃ¡lisis forense de buzones de correo comprometidos

3. âœ“ Loki Scanner
   Ruta: /opt/forensics-tools/Loki/
   Archivo: loki.py
   DescripciÃ³n: Scanner de IOCs y malware
   Firmas: Actualizadas con loki-upgrader.py
   Uso: Escaneo de sistemas en busca de indicadores de compromiso

4. âœ“ YARA Rules
   Ruta: /opt/forensics-tools/yara-rules/
   DescripciÃ³n: ColecciÃ³n signature-base de Neo23x0
   Contenido: 1000+ reglas YARA para detecciÃ³n de malware
   Uso: DetecciÃ³n de malware conocido y APTs

5. âœ“ Volatility 3
   Ruta: /opt/forensics-tools/volatility3/
   Script: vol.py
   VersiÃ³n: 2.27.1
   DescripciÃ³n: Framework de anÃ¡lisis de memoria forense
   Uso: AnÃ¡lisis de dumps de memoria RAM

6. âœ“ O365 Extractor
   Ruta: /opt/forensics-tools/O365-Extractor/
   Script: o365_extractor.py
   DescripciÃ³n: Extractor de logs de auditorÃ­a de M365
   Uso: RecolecciÃ³n de Unified Audit Logs vÃ­a Graph API

7. âœ“ YARA
   VersiÃ³n: 4.5.4
   DescripciÃ³n: Herramienta de clasificaciÃ³n de malware
   Estado: Preinstalado en Kali, actualizado

8. âœ“ OSQuery
   VersiÃ³n: 5.10.2
   DescripciÃ³n: Framework de consultas SQL para endpoints
   Estado: Preinstalado en Kali, actualizado

9. âœ“ PowerShell Core
   VersiÃ³n: 7.5.4
   DescripciÃ³n: Shell de Microsoft para ejecutar Sparrow/Hawk
   Estado: Instalado y funcional

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… CONFIGURACIÃ“N M365
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Tenant ID: 3af2e132-c361-4467-9d8b-081f06630c12
âœ“ Client ID: 91e9700b-8453-467a-b216-cc381a3858cc
âœ“ Client Secret: Configurado
âœ“ OrganizaciÃ³n: SINERLEX DOMINICANA ABOGADOS CONSULTORES SRL
âœ“ AutenticaciÃ³n: EXITOSA
âœ“ Permisos: 14 aprobados (6 Graph + 8 Intune)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ESTRUCTURA DE DIRECTORIOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/home/hack/mcp-kali-forensics/
â”œâ”€â”€ api/                 # FastAPI backend
â”‚   â”œâ”€â”€ routes/         # Endpoints REST
â”‚   â”œâ”€â”€ services/       # LÃ³gica de negocio
â”‚   â””â”€â”€ middleware/     # AutenticaciÃ³n
â”œâ”€â”€ scripts/            # Scripts de configuraciÃ³n
â”œâ”€â”€ audit-logs/         # Registros de auditorÃ­a
â”œâ”€â”€ logs/               # Logs de aplicaciÃ³n
â””â”€â”€ forensics-evidence/ # Almacenamiento de evidencia

/opt/forensics-tools/
â”œâ”€â”€ Sparrow/
â”œâ”€â”€ hawk/
â”œâ”€â”€ Loki/
â”œâ”€â”€ yara-rules/
â”œâ”€â”€ volatility3/
â””â”€â”€ O365-Extractor/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ PRÃ“XIMOS PASOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Iniciar el servicio MCP:
   cd /home/hack/mcp-kali-forensics
   source venv/bin/activate  # Si usas entorno virtual
   uvicorn api.main:app --host 0.0.0.0 --port 8080

2. Verificar el API:
   curl http://localhost:8080/health

3. Ver documentaciÃ³n interactiva:
   http://localhost:8080/docs

4. Probar anÃ¡lisis M365:
   curl -X POST http://localhost:8080/forensics/m365/analyze \
     -H "X-API-Key: tu-clave" \
     -H "Content-Type: application/json" \
     -d '{"case_id":"IR-001","scope":["sparrow"]}'

5. Generar auditorÃ­a periÃ³dica:
   ./scripts/generate_audit.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š ESTADÃSTICAS DE INSTALACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ Herramientas instaladas: 9/9 (100%)
â€¢ Permisos M365: 14 aprobados
â€¢ Firmas YARA: 1000+ reglas
â€¢ Espacio utilizado: ~200 MB
â€¢ Tiempo total: ~15 minutos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIN DEL REPORTE DE INSTALACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
